{
  "query": "CREATE TABLE IF NOT EXISTS notificationLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  notificationType VARCHAR(100) NOT NULL,\n  subject VARCHAR(255),\n  message TEXT NOT NULL,\n  channel ENUM('push', 'email', 'sms') NOT NULL,\n  status ENUM('sent', 'delivered', 'failed', 'pending', 'bounced') DEFAULT 'pending' NOT NULL,\n  failureReason TEXT,\n  retryCount INT DEFAULT 0 NOT NULL,\n  maxRetries INT DEFAULT 3 NOT NULL,\n  nextRetryAt TIMESTAMP NULL,\n  recipientEmail VARCHAR(320),\n  recipientPhone VARCHAR(20),\n  templateId VARCHAR(100),\n  templateVariables JSON,\n  relatedId INT,\n  relatedType VARCHAR(100),\n  metadata JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  sentAt TIMESTAMP NULL,\n  deliveredAt TIMESTAMP NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS supplyChainRecords (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  productId INT NOT NULL,\n  farmId INT NOT NULL,\n  productName VARCHAR(255) NOT NULL,\n  productType VARCHAR(100) NOT NULL,\n  batchNumber VARCHAR(100) NOT NULL UNIQUE,\n  quantity DECIMAL(10, 2) NOT NULL,\n  unit VARCHAR(50) NOT NULL,\n  harvestDate DATE NOT NULL,\n  productionMethod VARCHAR(100),\n  certifications JSON,\n  blockchainHash VARCHAR(256),\n  status ENUM('pending', 'verified', 'certified', 'archived') DEFAULT 'pending' NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS blockchainTransactions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  supplyChainId INT NOT NULL,\n  transactionHash VARCHAR(256) NOT NULL UNIQUE,\n  previousHash VARCHAR(256),\n  eventType ENUM('production', 'processing', 'transport', 'storage', 'sale', 'certification') NOT NULL,\n  actor VARCHAR(100) NOT NULL,\n  actorId INT NOT NULL,\n  location VARCHAR(255),\n  latitude DECIMAL(10, 8),\n  longitude DECIMAL(11, 8),\n  temperature DECIMAL(5, 2),\n  humidity DECIMAL(5, 2),\n  notes TEXT,\n  documentHash VARCHAR(256),\n  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS productCertifications (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  supplyChainId INT NOT NULL,\n  certificationType VARCHAR(100) NOT NULL,\n  certifyingBody VARCHAR(255) NOT NULL,\n  certificateNumber VARCHAR(100) NOT NULL UNIQUE,\n  issueDate DATE NOT NULL,\n  expiryDate DATE NOT NULL,\n  verificationUrl VARCHAR(500),\n  documentHash VARCHAR(256),\n  status ENUM('valid', 'expired', 'revoked', 'pending') DEFAULT 'pending' NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS auditTrail (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  supplyChainId INT NOT NULL,\n  userId INT NOT NULL,\n  action VARCHAR(100) NOT NULL,\n  entityType VARCHAR(100) NOT NULL,\n  entityId INT NOT NULL,\n  previousValues JSON,\n  newValues JSON,\n  changeReason TEXT,\n  ipAddress VARCHAR(45),\n  userAgent TEXT,\n  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2kNF22PapS9mysw.root --database WZQk4bD8DnsRHwYBkmh7FN --execute CREATE TABLE IF NOT EXISTS notificationLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  notificationType VARCHAR(100) NOT NULL,\n  subject VARCHAR(255),\n  message TEXT NOT NULL,\n  channel ENUM('push', 'email', 'sms') NOT NULL,\n  status ENUM('sent', 'delivered', 'failed', 'pending', 'bounced') DEFAULT 'pending' NOT NULL,\n  failureReason TEXT,\n  retryCount INT DEFAULT 0 NOT NULL,\n  maxRetries INT DEFAULT 3 NOT NULL,\n  nextRetryAt TIMESTAMP NULL,\n  recipientEmail VARCHAR(320),\n  recipientPhone VARCHAR(20),\n  templateId VARCHAR(100),\n  templateVariables JSON,\n  relatedId INT,\n  relatedType VARCHAR(100),\n  metadata JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  sentAt TIMESTAMP NULL,\n  deliveredAt TIMESTAMP NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS supplyChainRecords (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  productId INT NOT NULL,\n  farmId INT NOT NULL,\n  productName VARCHAR(255) NOT NULL,\n  productType VARCHAR(100) NOT NULL,\n  batchNumber VARCHAR(100) NOT NULL UNIQUE,\n  quantity DECIMAL(10, 2) NOT NULL,\n  unit VARCHAR(50) NOT NULL,\n  harvestDate DATE NOT NULL,\n  productionMethod VARCHAR(100),\n  certifications JSON,\n  blockchainHash VARCHAR(256),\n  status ENUM('pending', 'verified', 'certified', 'archived') DEFAULT 'pending' NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS blockchainTransactions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  supplyChainId INT NOT NULL,\n  transactionHash VARCHAR(256) NOT NULL UNIQUE,\n  previousHash VARCHAR(256),\n  eventType ENUM('production', 'processing', 'transport', 'storage', 'sale', 'certification') NOT NULL,\n  actor VARCHAR(100) NOT NULL,\n  actorId INT NOT NULL,\n  location VARCHAR(255),\n  latitude DECIMAL(10, 8),\n  longitude DECIMAL(11, 8),\n  temperature DECIMAL(5, 2),\n  humidity DECIMAL(5, 2),\n  notes TEXT,\n  documentHash VARCHAR(256),\n  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS productCertifications (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  supplyChainId INT NOT NULL,\n  certificationType VARCHAR(100) NOT NULL,\n  certifyingBody VARCHAR(255) NOT NULL,\n  certificateNumber VARCHAR(100) NOT NULL UNIQUE,\n  issueDate DATE NOT NULL,\n  expiryDate DATE NOT NULL,\n  verificationUrl VARCHAR(500),\n  documentHash VARCHAR(256),\n  status ENUM('valid', 'expired', 'revoked', 'pending') DEFAULT 'pending' NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS auditTrail (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  supplyChainId INT NOT NULL,\n  userId INT NOT NULL,\n  action VARCHAR(100) NOT NULL,\n  entityType VARCHAR(100) NOT NULL,\n  entityId INT NOT NULL,\n  previousValues JSON,\n  newValues JSON,\n  changeReason TEXT,\n  ipAddress VARCHAR(45),\n  userAgent TEXT,\n  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 683
}