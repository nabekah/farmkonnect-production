{
  "query": "\n-- Create veterinary_appointments table\nCREATE TABLE IF NOT EXISTS veterinary_appointments (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  farmId INT NOT NULL,\n  animalId INT NOT NULL,\n  veterinarianId INT NOT NULL,\n  appointmentDate DATETIME NOT NULL,\n  appointmentType VARCHAR(50) NOT NULL,\n  status VARCHAR(50) DEFAULT 'scheduled',\n  reason TEXT,\n  notes TEXT,\n  cost DECIMAL(10, 2),\n  currency VARCHAR(3) DEFAULT 'GHS',\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_farm_date (farmId, appointmentDate),\n  INDEX idx_vet_date (veterinarianId, appointmentDate),\n  INDEX idx_animal_date (animalId, appointmentDate)\n);\n\n-- Create prescriptions table\nCREATE TABLE IF NOT EXISTS prescriptions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  appointmentId INT,\n  animalId INT NOT NULL,\n  veterinarianId INT NOT NULL,\n  farmId INT NOT NULL,\n  prescriptionDate DATE NOT NULL,\n  expiryDate DATE NOT NULL,\n  status VARCHAR(50) DEFAULT 'active',\n  notes TEXT,\n  totalCost DECIMAL(10, 2),\n  currency VARCHAR(3) DEFAULT 'GHS',\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_animal_expiry (animalId, expiryDate),\n  INDEX idx_farm_status (farmId, status),\n  INDEX idx_expiry_date (expiryDate)\n);\n\n-- Create prescription_items table for multi-drug prescriptions\nCREATE TABLE IF NOT EXISTS prescription_items (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  prescriptionId INT NOT NULL,\n  drugName VARCHAR(255) NOT NULL,\n  dosage VARCHAR(100) NOT NULL,\n  frequency VARCHAR(100) NOT NULL,\n  duration VARCHAR(100) NOT NULL,\n  quantity INT NOT NULL,\n  unit VARCHAR(50) NOT NULL,\n  instructions TEXT,\n  cost DECIMAL(10, 2),\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_prescription (prescriptionId)\n);\n\n-- Create veterinarian_availability table\nCREATE TABLE IF NOT EXISTS veterinarian_availability (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  veterinarianId INT NOT NULL,\n  dayOfWeek INT NOT NULL,\n  startTime TIME NOT NULL,\n  endTime TIME NOT NULL,\n  breakStartTime TIME,\n  breakEndTime TIME,\n  isAvailable BOOLEAN DEFAULT TRUE,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  UNIQUE KEY unique_vet_day (veterinarianId, dayOfWeek),\n  INDEX idx_vet_available (veterinarianId, isAvailable)\n);\n\n-- Create appointment_notes table for detailed consultation records\nCREATE TABLE IF NOT EXISTS appointment_notes (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  appointmentId INT NOT NULL,\n  noteType VARCHAR(50) NOT NULL,\n  content TEXT NOT NULL,\n  createdBy INT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_appointment (appointmentId)\n);\n\n-- Create prescription_renewals table for tracking renewal requests\nCREATE TABLE IF NOT EXISTS prescription_renewals (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  prescriptionId INT NOT NULL,\n  renewalDate DATE NOT NULL,\n  requestDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  status VARCHAR(50) DEFAULT 'pending',\n  approvedBy INT,\n  approvalDate DATETIME,\n  notes TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_prescription_status (prescriptionId, status),\n  INDEX idx_renewal_date (renewalDate)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2kNF22PapS9mysw.root --database WZQk4bD8DnsRHwYBkmh7FN --execute \n-- Create veterinary_appointments table\nCREATE TABLE IF NOT EXISTS veterinary_appointments (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  farmId INT NOT NULL,\n  animalId INT NOT NULL,\n  veterinarianId INT NOT NULL,\n  appointmentDate DATETIME NOT NULL,\n  appointmentType VARCHAR(50) NOT NULL,\n  status VARCHAR(50) DEFAULT 'scheduled',\n  reason TEXT,\n  notes TEXT,\n  cost DECIMAL(10, 2),\n  currency VARCHAR(3) DEFAULT 'GHS',\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_farm_date (farmId, appointmentDate),\n  INDEX idx_vet_date (veterinarianId, appointmentDate),\n  INDEX idx_animal_date (animalId, appointmentDate)\n);\n\n-- Create prescriptions table\nCREATE TABLE IF NOT EXISTS prescriptions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  appointmentId INT,\n  animalId INT NOT NULL,\n  veterinarianId INT NOT NULL,\n  farmId INT NOT NULL,\n  prescriptionDate DATE NOT NULL,\n  expiryDate DATE NOT NULL,\n  status VARCHAR(50) DEFAULT 'active',\n  notes TEXT,\n  totalCost DECIMAL(10, 2),\n  currency VARCHAR(3) DEFAULT 'GHS',\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_animal_expiry (animalId, expiryDate),\n  INDEX idx_farm_status (farmId, status),\n  INDEX idx_expiry_date (expiryDate)\n);\n\n-- Create prescription_items table for multi-drug prescriptions\nCREATE TABLE IF NOT EXISTS prescription_items (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  prescriptionId INT NOT NULL,\n  drugName VARCHAR(255) NOT NULL,\n  dosage VARCHAR(100) NOT NULL,\n  frequency VARCHAR(100) NOT NULL,\n  duration VARCHAR(100) NOT NULL,\n  quantity INT NOT NULL,\n  unit VARCHAR(50) NOT NULL,\n  instructions TEXT,\n  cost DECIMAL(10, 2),\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_prescription (prescriptionId)\n);\n\n-- Create veterinarian_availability table\nCREATE TABLE IF NOT EXISTS veterinarian_availability (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  veterinarianId INT NOT NULL,\n  dayOfWeek INT NOT NULL,\n  startTime TIME NOT NULL,\n  endTime TIME NOT NULL,\n  breakStartTime TIME,\n  breakEndTime TIME,\n  isAvailable BOOLEAN DEFAULT TRUE,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  UNIQUE KEY unique_vet_day (veterinarianId, dayOfWeek),\n  INDEX idx_vet_available (veterinarianId, isAvailable)\n);\n\n-- Create appointment_notes table for detailed consultation records\nCREATE TABLE IF NOT EXISTS appointment_notes (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  appointmentId INT NOT NULL,\n  noteType VARCHAR(50) NOT NULL,\n  content TEXT NOT NULL,\n  createdBy INT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_appointment (appointmentId)\n);\n\n-- Create prescription_renewals table for tracking renewal requests\nCREATE TABLE IF NOT EXISTS prescription_renewals (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  prescriptionId INT NOT NULL,\n  renewalDate DATE NOT NULL,\n  requestDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  status VARCHAR(50) DEFAULT 'pending',\n  approvedBy INT,\n  approvalDate DATETIME,\n  notes TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_prescription_status (prescriptionId, status),\n  INDEX idx_renewal_date (renewalDate)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 884
}