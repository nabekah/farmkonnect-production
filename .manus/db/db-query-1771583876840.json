{
  "query": "\n-- Add email verification fields to users table\nALTER TABLE users ADD COLUMN emailVerified BOOLEAN DEFAULT false NOT NULL AFTER lastSignedIn;\nALTER TABLE users ADD COLUMN emailVerificationToken VARCHAR(255) AFTER emailVerified;\nALTER TABLE users ADD COLUMN emailVerificationTokenExpiresAt TIMESTAMP AFTER emailVerificationToken;\n\n-- Create audit logs table\nCREATE TABLE IF NOT EXISTS auditLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  adminId INT NOT NULL,\n  userId INT NOT NULL,\n  action ENUM('approve', 'reject', 'suspend', 'unsuspend', 'bulk_approve', 'bulk_reject', 'bulk_suspend') NOT NULL,\n  reason TEXT,\n  bulkOperationId VARCHAR(255),\n  metadata TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_adminId (adminId),\n  INDEX idx_userId (userId),\n  INDEX idx_action (action),\n  INDEX idx_createdAt (createdAt)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2kNF22PapS9mysw.root --database WZQk4bD8DnsRHwYBkmh7FN --execute \n-- Add email verification fields to users table\nALTER TABLE users ADD COLUMN emailVerified BOOLEAN DEFAULT false NOT NULL AFTER lastSignedIn;\nALTER TABLE users ADD COLUMN emailVerificationToken VARCHAR(255) AFTER emailVerified;\nALTER TABLE users ADD COLUMN emailVerificationTokenExpiresAt TIMESTAMP AFTER emailVerificationToken;\n\n-- Create audit logs table\nCREATE TABLE IF NOT EXISTS auditLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  adminId INT NOT NULL,\n  userId INT NOT NULL,\n  action ENUM('approve', 'reject', 'suspend', 'unsuspend', 'bulk_approve', 'bulk_reject', 'bulk_suspend') NOT NULL,\n  reason TEXT,\n  bulkOperationId VARCHAR(255),\n  metadata TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_adminId (adminId),\n  INDEX idx_userId (userId),\n  INDEX idx_action (action),\n  INDEX idx_createdAt (createdAt)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 657
}