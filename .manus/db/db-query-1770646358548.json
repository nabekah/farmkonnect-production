{
  "query": "\n-- Create feedingRecords table\nCREATE TABLE IF NOT EXISTS feedingRecords (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  farmId INT NOT NULL,\n  animalId INT NOT NULL,\n  feedType VARCHAR(100) NOT NULL,\n  quantity DECIMAL(10, 2) NOT NULL,\n  unit VARCHAR(50) NOT NULL,\n  feedDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  cost DECIMAL(10, 2),\n  notes TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (farmId) REFERENCES farms(id),\n  FOREIGN KEY (animalId) REFERENCES animals(id),\n  INDEX idx_farmId (farmId),\n  INDEX idx_animalId (animalId),\n  INDEX idx_feedDate (feedDate)\n);\n\n-- Create notifications table\nCREATE TABLE IF NOT EXISTS notifications (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  farmId INT,\n  type VARCHAR(100) NOT NULL,\n  title VARCHAR(255) NOT NULL,\n  message TEXT NOT NULL,\n  status ENUM('unread', 'read', 'archived') DEFAULT 'unread',\n  actionUrl VARCHAR(255),\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  readAt TIMESTAMP NULL,\n  FOREIGN KEY (userId) REFERENCES users(id),\n  FOREIGN KEY (farmId) REFERENCES farms(id),\n  INDEX idx_userId (userId),\n  INDEX idx_status (status),\n  INDEX idx_createdAt (createdAt)\n);\n\n-- Create reportTemplates table\nCREATE TABLE IF NOT EXISTS reportTemplates (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  type VARCHAR(100) NOT NULL,\n  sections JSON,\n  isActive BOOLEAN DEFAULT TRUE,\n  createdBy INT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (createdBy) REFERENCES users(id),\n  INDEX idx_type (type),\n  INDEX idx_isActive (isActive)\n);\n\n-- Create securityAuditLogs table\nCREATE TABLE IF NOT EXISTS securityAuditLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT,\n  farmId INT,\n  action VARCHAR(255) NOT NULL,\n  resourceType VARCHAR(100),\n  resourceId INT,\n  details JSON,\n  ipAddress VARCHAR(45),\n  userAgent TEXT,\n  status ENUM('success', 'failure', 'warning') DEFAULT 'success',\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id),\n  FOREIGN KEY (farmId) REFERENCES farms(id),\n  INDEX idx_userId (userId),\n  INDEX idx_action (action),\n  INDEX idx_createdAt (createdAt)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2kNF22PapS9mysw.root --database WZQk4bD8DnsRHwYBkmh7FN --execute \n-- Create feedingRecords table\nCREATE TABLE IF NOT EXISTS feedingRecords (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  farmId INT NOT NULL,\n  animalId INT NOT NULL,\n  feedType VARCHAR(100) NOT NULL,\n  quantity DECIMAL(10, 2) NOT NULL,\n  unit VARCHAR(50) NOT NULL,\n  feedDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  cost DECIMAL(10, 2),\n  notes TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (farmId) REFERENCES farms(id),\n  FOREIGN KEY (animalId) REFERENCES animals(id),\n  INDEX idx_farmId (farmId),\n  INDEX idx_animalId (animalId),\n  INDEX idx_feedDate (feedDate)\n);\n\n-- Create notifications table\nCREATE TABLE IF NOT EXISTS notifications (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  farmId INT,\n  type VARCHAR(100) NOT NULL,\n  title VARCHAR(255) NOT NULL,\n  message TEXT NOT NULL,\n  status ENUM('unread', 'read', 'archived') DEFAULT 'unread',\n  actionUrl VARCHAR(255),\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  readAt TIMESTAMP NULL,\n  FOREIGN KEY (userId) REFERENCES users(id),\n  FOREIGN KEY (farmId) REFERENCES farms(id),\n  INDEX idx_userId (userId),\n  INDEX idx_status (status),\n  INDEX idx_createdAt (createdAt)\n);\n\n-- Create reportTemplates table\nCREATE TABLE IF NOT EXISTS reportTemplates (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  type VARCHAR(100) NOT NULL,\n  sections JSON,\n  isActive BOOLEAN DEFAULT TRUE,\n  createdBy INT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (createdBy) REFERENCES users(id),\n  INDEX idx_type (type),\n  INDEX idx_isActive (isActive)\n);\n\n-- Create securityAuditLogs table\nCREATE TABLE IF NOT EXISTS securityAuditLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT,\n  farmId INT,\n  action VARCHAR(255) NOT NULL,\n  resourceType VARCHAR(100),\n  resourceId INT,\n  details JSON,\n  ipAddress VARCHAR(45),\n  userAgent TEXT,\n  status ENUM('success', 'failure', 'warning') DEFAULT 'success',\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id),\n  FOREIGN KEY (farmId) REFERENCES farms(id),\n  INDEX idx_userId (userId),\n  INDEX idx_action (action),\n  INDEX idx_createdAt (createdAt)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 783
}