{
  "query": "CREATE TABLE IF NOT EXISTS `pushSubscriptions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `endpoint` varchar(500) NOT NULL,\n  `auth` varchar(255) NOT NULL,\n  `p256dh` varchar(255) NOT NULL,\n  `expirationTime` varchar(50),\n  `userAgent` varchar(500),\n  `isActive` boolean NOT NULL DEFAULT true,\n  `lastUsed` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY(`id`),\n  UNIQUE(`endpoint`)\n);\n\nCREATE TABLE IF NOT EXISTS `notificationDeliveryLog` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `notificationType` varchar(100) NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `message` text NOT NULL,\n  `channel` enum('push','email','sms') NOT NULL,\n  `deliveryStatus` enum('pending','sent','delivered','failed','bounced') NOT NULL DEFAULT 'pending',\n  `deliveryError` text,\n  `priority` enum('low','medium','high','urgent') NOT NULL DEFAULT 'medium',\n  `relatedId` int,\n  `relatedType` varchar(100),\n  `actionUrl` varchar(500),\n  `isRead` boolean NOT NULL DEFAULT false,\n  `readAt` timestamp,\n  `retryCount` int NOT NULL DEFAULT 0,\n  `nextRetryAt` timestamp,\n  `sentAt` timestamp,\n  `deliveredAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `userNotificationPreferences` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `breedingReminders` boolean NOT NULL DEFAULT true,\n  `stockAlerts` boolean NOT NULL DEFAULT true,\n  `weatherAlerts` boolean NOT NULL DEFAULT true,\n  `vaccinationReminders` boolean NOT NULL DEFAULT true,\n  `harvestReminders` boolean NOT NULL DEFAULT true,\n  `marketplaceUpdates` boolean NOT NULL DEFAULT true,\n  `iotSensorAlerts` boolean NOT NULL DEFAULT true,\n  `trainingReminders` boolean NOT NULL DEFAULT true,\n  `pushNotificationsEnabled` boolean NOT NULL DEFAULT true,\n  `emailNotificationsEnabled` boolean NOT NULL DEFAULT true,\n  `smsNotificationsEnabled` boolean NOT NULL DEFAULT false,\n  `quietHoursEnabled` boolean NOT NULL DEFAULT false,\n  `quietHoursStart` varchar(5),\n  `quietHoursEnd` varchar(5),\n  `timezone` varchar(100) NOT NULL DEFAULT 'UTC',\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY(`id`),\n  UNIQUE(`userId`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2kNF22PapS9mysw.root --database WZQk4bD8DnsRHwYBkmh7FN --execute CREATE TABLE IF NOT EXISTS `pushSubscriptions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `endpoint` varchar(500) NOT NULL,\n  `auth` varchar(255) NOT NULL,\n  `p256dh` varchar(255) NOT NULL,\n  `expirationTime` varchar(50),\n  `userAgent` varchar(500),\n  `isActive` boolean NOT NULL DEFAULT true,\n  `lastUsed` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY(`id`),\n  UNIQUE(`endpoint`)\n);\n\nCREATE TABLE IF NOT EXISTS `notificationDeliveryLog` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `notificationType` varchar(100) NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `message` text NOT NULL,\n  `channel` enum('push','email','sms') NOT NULL,\n  `deliveryStatus` enum('pending','sent','delivered','failed','bounced') NOT NULL DEFAULT 'pending',\n  `deliveryError` text,\n  `priority` enum('low','medium','high','urgent') NOT NULL DEFAULT 'medium',\n  `relatedId` int,\n  `relatedType` varchar(100),\n  `actionUrl` varchar(500),\n  `isRead` boolean NOT NULL DEFAULT false,\n  `readAt` timestamp,\n  `retryCount` int NOT NULL DEFAULT 0,\n  `nextRetryAt` timestamp,\n  `sentAt` timestamp,\n  `deliveredAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `userNotificationPreferences` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `breedingReminders` boolean NOT NULL DEFAULT true,\n  `stockAlerts` boolean NOT NULL DEFAULT true,\n  `weatherAlerts` boolean NOT NULL DEFAULT true,\n  `vaccinationReminders` boolean NOT NULL DEFAULT true,\n  `harvestReminders` boolean NOT NULL DEFAULT true,\n  `marketplaceUpdates` boolean NOT NULL DEFAULT true,\n  `iotSensorAlerts` boolean NOT NULL DEFAULT true,\n  `trainingReminders` boolean NOT NULL DEFAULT true,\n  `pushNotificationsEnabled` boolean NOT NULL DEFAULT true,\n  `emailNotificationsEnabled` boolean NOT NULL DEFAULT true,\n  `smsNotificationsEnabled` boolean NOT NULL DEFAULT false,\n  `quietHoursEnabled` boolean NOT NULL DEFAULT false,\n  `quietHoursStart` varchar(5),\n  `quietHoursEnd` varchar(5),\n  `timezone` varchar(100) NOT NULL DEFAULT 'UTC',\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY(`id`),\n  UNIQUE(`userId`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 385
}